package verify

import "github.com/ralphferrara/aria/app"

//||------------------------------------------------------------------------------------------------||
//|| Expired
//||------------------------------------------------------------------------------------------------||

func (v *Verification) UpdateStatusEscalate() error {
	app.Log.Info("Verification Status : Expired - ", v.UUID)
	//||------------------------------------------------------------------------------------------------||
	//|| Set Status
	//||------------------------------------------------------------------------------------------------||
	v.Status = StatusEscalated
	v.Level = v.Level + 1
	//||------------------------------------------------------------------------------------------------||
	//|| Add Step
	//||------------------------------------------------------------------------------------------------||
	v.AddStep(app.Constants("VERIFY_STEP_TYPES").Get("STATUS_ESCL"), "")
	//||------------------------------------------------------------------------------------------------||
	//|| Save
	//||------------------------------------------------------------------------------------------------||
	v.Save()
	v.DatabaseUpdate()
	//||------------------------------------------------------------------------------------------------||
	//|| Done
	//||------------------------------------------------------------------------------------------------||
	return nil
}
