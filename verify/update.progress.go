package verify

import (
	"github.com/ralphferrara/aria/app"
)

//||------------------------------------------------------------------------------------------------||
//|| Escalate
//||------------------------------------------------------------------------------------------------||

func (v *Verification) UpdateStatusInProgress() error {
	app.Log.Info("Verification Status : In Progress - ", v.UUID)
	//||------------------------------------------------------------------------------------------------||
	//|| Set Status
	//||------------------------------------------------------------------------------------------------||
	v.Status = StatusInProgress
	//||------------------------------------------------------------------------------------------------||
	//|| Two Factor Approved
	//||------------------------------------------------------------------------------------------------||
	v.AddStep(app.Constants("VERIFY_STEP_TYPES").Get("STATUS_INPR"), "")
	//||------------------------------------------------------------------------------------------------||
	//|| Lock the Encrypted Data and Update the Database / Storage
	//||------------------------------------------------------------------------------------------------||
	v.Save()
	v.DatabaseUpdate()
	//||------------------------------------------------------------------------------------------------||
	//|| Done
	//||------------------------------------------------------------------------------------------------||
	return nil
}
